From 6052b121b88d2814e85c840dcb6dc7dcb0413dcc Mon Sep 17 00:00:00 2001
From: Dave Stevenson <dave.stevenson@raspberrypi.org>
Date: Mon, 10 Jun 2019 16:32:51 +0100
Subject: [PATCH 662/678] drm/vc4: Remove 340MHz clock limit from FKMS now
 scrambling issues resolved

Firmware TMDS scrambling is now being correctly configured, so
we can use it.

Signed-off-by: Dave Stevenson <dave.stevenson@raspberrypi.org>
---
 drivers/gpu/drm/vc4/vc4_firmware_kms.c | 6 ------
 1 file changed, 6 deletions(-)

diff --git a/drivers/gpu/drm/vc4/vc4_firmware_kms.c b/drivers/gpu/drm/vc4/vc4_firmware_kms.c
index 3bf8df61ff00..a78662f5707d 100644
--- a/drivers/gpu/drm/vc4/vc4_firmware_kms.c
+++ b/drivers/gpu/drm/vc4/vc4_firmware_kms.c
@@ -830,12 +830,6 @@ vc4_crtc_mode_valid(struct drm_crtc *crtc, const struct drm_display_mode *mode)
 		break;
 	}
 
-	/* Limit the pixel clock until we can get dynamic HDMI 2.0 scrambling
-	 * working.
-	 */
-	if (mode->clock > 340000)
-		return MODE_CLOCK_HIGH;
-
 	return MODE_OK;
 }
 
-- 
2.19.1

